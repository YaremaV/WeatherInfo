{"version":3,"sources":["API/weather-api.js","component/Searchbar/Searchbar.module.css","component/Searchbar/Searchbar.js","views/Home/Home.js"],"names":["BASE_URL","KEY","fetchWithErrorHandling","a","url","fetch","response","ok","json","Promise","reject","Error","fetchSearch","cityName","fetchDetails","id","fetchFewDays","lon","lat","module","exports","Searchbar","onSubmit","location","useLocation","useState","image","setImage","useEffect","queryValue","URLSearchParams","search","get","className","s","SearchForm","evt","preventDefault","trim","toast","error","position","theme","SearchFormInput","type","autoComplete","autoFocus","placeholder","value","onChange","EventTarget","currentTarget","toLowerCase","SearchFormButton","SearchFormButtonLabel","propType","PropTypes","string","func","WeatherContainer","lazy","WeatherList","SearchCountry","countries","setCountries","searchCountries","setSearchCountries","setError","moviesApi","then","res","catch","message","main","weatherContainer","upDate"],"mappings":"8OAAMA,EAAW,2CACXC,EAAM,mC,SAEGC,I,2EAAf,0CAAAC,EAAA,6DAAsCC,EAAtC,+BAA4C,GAA5C,SACyBC,MAAMD,GAD/B,YACQE,EADR,QAEkBC,GAFlB,iCAGYD,EAASE,OAHrB,gDAIMC,QAAQC,OAAO,IAAIC,MAAM,cAJ/B,mF,wBAOO,SAASC,EAAYC,GAC1B,OAAOX,EAAuB,GAAD,OACxBF,EADwB,qBACHa,EADG,kBACeZ,IAIvC,SAASa,EAAaC,GAC3B,OAAOb,EAAuB,GAAD,OAAIF,EAAJ,sBAA0Be,EAA1B,kBAAsCd,IAG9D,SAASe,EAAaC,EAAKC,GAChC,OAAOhB,EAAuB,GAAD,OACxBF,EADwB,uBACDkB,EADC,gBACUD,EADV,iCACsChB,M,mBCrBrEkB,EAAOC,QAAU,CAAC,WAAa,8BAA8B,iBAAmB,oCAAoC,oBAAoB,qCAAqC,sBAAwB,yCAAyC,gBAAkB,mCAAmC,mBAAmB,sC,8LCMvS,SAASC,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAC5BC,EAAWC,cACjB,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAEAC,qBAAU,WACR,IAAMC,EAAa,IAAIC,gBAAgBP,EAASQ,QAAQC,IAAI,SAEzC,OAAfH,GAIJF,EAASE,KAER,IAoBH,OACE,wBAAQI,UAAWC,IAAEb,UAArB,SACE,uBAAMY,UAAWC,IAAEC,WAAYb,SAhBd,SAACc,GACpBA,EAAIC,iBAEiB,KAAjBX,EAAMY,QAOVhB,EAASI,GACTC,EAAS,KAPPY,IAAMC,MAAM,yCAA0C,CACpDC,SAAU,WACVC,MAAO,aAUT,UACE,uBACET,UAAWC,IAAES,gBACbC,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,gCACZC,MAAOtB,EACPuB,SA5BkB,SAACC,GACzBvB,EAASuB,EAAYC,cAAcH,MAAMI,kBA6BrC,wBAAQR,KAAK,SAASX,UAAWC,IAAEmB,iBAAnC,SACE,sBAAMpB,UAAWC,IAAEoB,sBAAnB,2BAOVjC,EAAUkC,SAAW,CACnBP,MAAOQ,IAAUC,OACjBnC,SAAUkC,IAAUE,KACpBT,SAAUO,IAAUE,MC3DtB,IAAMC,EAAmBC,gBAAK,kBAC5B,gCAEIC,EAAcD,gBAAK,kBACvB,gCAGa,SAASE,IACtB,MAAkCrC,mBAAS,IAA3C,mBAAOsC,EAAP,KAAkBC,EAAlB,KACA,EAA8CvC,mBAAS,IAAvD,mBAAOwC,EAAP,KAAwBC,EAAxB,KACA,EAA0BzC,mBAAS,MAAnC,mBAAOe,EAAP,KAAc2B,EAAd,KAEAvC,qBAAU,WACU,KAAdmC,GAIJK,IACeL,GACZM,MAAK,SAACC,GAAD,OAASJ,EAAmBI,MACjCC,OAAM,SAAC/B,GACN2B,EAAS3B,QAEZ,CAACuB,IAeJ,OACE,qCACE,cAAC,EAAD,CAAWzC,SAfM,SAAC0B,GACpBgB,EAAahB,MAeVR,GAAS,+DAAkCA,EAAMgC,WAClB,oBAAxBP,EAAgBQ,KACtB,cAACd,EAAD,CAAkBe,iBAAkBT,IAEpC,wBAG8B,oBAAxBA,EAAgBQ,KACtB,cAACZ,EAAD,CAAac,OApBF,WACfP,IACeL,GACZM,MAAK,SAACC,GAAD,OAASJ,EAAmBI,MACjCC,OAAM,SAAC/B,GACN2B,EAAS3B,SAiBT","file":"static/js/3.47f40428.chunk.js","sourcesContent":["const BASE_URL = \"HTTPS://api.openweathermap.org/data/2.5/\";\nconst KEY = \"2d20223674e609e0aa7b3ad29d181f8b\";\n\nasync function fetchWithErrorHandling(url = \"\") {\n  const response = await fetch(url);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error(\"Not found\"));\n}\n\nexport function fetchSearch(cityName) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}weather?q=${cityName}&appid=${KEY}`\n  );\n}\n\nexport function fetchDetails(id) {\n  return fetchWithErrorHandling(`${BASE_URL}weather?id=${id}&appid=${KEY}`);\n}\n\nexport function fetchFewDays(lon, lat) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}onecall?lat=${lat}&lon=${lon}&exclude=hourly&appid=${KEY}`\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"Searchbar_SearchForm__VYuWE\",\"SearchFormButton\":\"Searchbar_SearchFormButton__stK-r\",\"SearchForm-button\":\"Searchbar_SearchForm-button__1adC4\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2BoPo\",\"SearchFormInput\":\"Searchbar_SearchFormInput__22ues\",\"SearchForm-input\":\"Searchbar_SearchForm-input__Fuwc7\"};","import React, { useState, useEffect } from \"react\";\r\nimport { useLocation } from \"react-router\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Searchbar.module.css\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  const location = useLocation();\r\n  const [image, setImage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const queryValue = new URLSearchParams(location.search).get(\"image\");\r\n\r\n    if (queryValue === null) {\r\n      return;\r\n    }\r\n\r\n    setImage(queryValue);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleImageChange = (EventTarget) => {\r\n    setImage(EventTarget.currentTarget.value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n\r\n    if (image.trim() === \"\") {\r\n      toast.error(\"Please Enter countries to get weather!\", {\r\n        position: \"top-left\",\r\n        theme: \"colored\",\r\n      });\r\n      return;\r\n    }\r\n    onSubmit(image);\r\n    setImage(\"\");\r\n  };\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n        <input\r\n          className={s.SearchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Get weather in your countries\"\r\n          value={image}\r\n          onChange={handleImageChange}\r\n        />\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n          <span className={s.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propType = {\r\n  value: PropTypes.string,\r\n  onSubmit: PropTypes.func,\r\n  onChange: PropTypes.func,\r\n};\r\n","import { useState, useEffect, lazy } from \"react\";\r\nimport * as moviesApi from \"../../API/weather-api\";\r\nimport SearchBar from \"../../component/Searchbar/Searchbar\";\r\n\r\nconst WeatherContainer = lazy(() =>\r\n  import(\"../../component/WeatherContainer/WeatherContainer\")\r\n);\r\nconst WeatherList = lazy(() =>\r\n  import(\"../../component/WeatherList/WeatherList\")\r\n);\r\n\r\nexport default function SearchCountry() {\r\n  const [countries, setCountries] = useState(\"\");\r\n  const [searchCountries, setSearchCountries] = useState([]);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (countries === \"\") {\r\n      return;\r\n    }\r\n\r\n    moviesApi\r\n      .fetchSearch(countries)\r\n      .then((res) => setSearchCountries(res))\r\n      .catch((error) => {\r\n        setError(error);\r\n      });\r\n  }, [countries]);\r\n\r\n  const handleSubmit = (value) => {\r\n    setCountries(value);\r\n  };\r\n\r\n  const onUpdate = () => {\r\n    moviesApi\r\n      .fetchSearch(countries)\r\n      .then((res) => setSearchCountries(res))\r\n      .catch((error) => {\r\n        setError(error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <SearchBar onSubmit={handleSubmit} />\r\n      {error && <p>Whoops, something went wrong: {error.message}</p>}\r\n      {typeof searchCountries.main != \"undefined\" ? (\r\n        <WeatherContainer weatherContainer={searchCountries} />\r\n      ) : (\r\n        <div></div>\r\n      )}\r\n\r\n      {typeof searchCountries.main != \"undefined\" ? (\r\n        <WeatherList upDate={onUpdate} />\r\n      ) : (\r\n        <div></div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"sourceRoot":""}